-- CDR_MDM.dbo.MDM_EMPI_VisitNumber definition

-- Drop table

-- DROP TABLE CDR_MDM.dbo.MDM_EMPI_VisitNumber;

CREATE TABLE CDR_MDM.dbo.MDM_EMPI_VisitNumber (
	CDRVisitNumber nvarchar(20) COLLATE Chinese_PRC_CI_AS NOT NULL,
	PatientClass nvarchar(5) COLLATE Chinese_PRC_CI_AS NOT NULL,
	EmpiDisplayID nvarchar(50) COLLATE Chinese_PRC_CI_AS NOT NULL,
	HospitalCode nvarchar(50) COLLATE Chinese_PRC_CI_AS NOT NULL,
	IsDeleted smallint NOT NULL,
	LastUpdateDtTm datetime NOT NULL,
	LastImportDtTm datetime NOT NULL,
	EMPID uniqueidentifier NULL,
	CONSTRAINT PK_MDM_EMPI_VisitNumber_N PRIMARY KEY (CDRVisitNumber,PatientClass,HospitalCode)
);
 CREATE NONCLUSTERED INDEX IDX_MDM_EMPI_VisitNumber_EMPI ON CDR_MDM.dbo.MDM_EMPI_VisitNumber (  EmpiDisplayID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ] ;
 CREATE NONCLUSTERED INDEX IX_MDM_EMPI_VisitNumber_new ON CDR_MDM.dbo.MDM_EMPI_VisitNumber (  PatientClass ASC  )  
	 INCLUDE ( CDRVisitNumber , EmpiDisplayID ) 
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ] ;
 CREATE NONCLUSTERED INDEX [NonClusteredIndex-CDRVisitNumber] ON CDR_MDM.dbo.MDM_EMPI_VisitNumber (  CDRVisitNumber ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ] ;
 CREATE NONCLUSTERED INDEX [NonClusteredIndex-EMPID] ON CDR_MDM.dbo.MDM_EMPI_VisitNumber (  EMPID ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ] ;