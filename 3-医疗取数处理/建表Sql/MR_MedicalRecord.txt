-- CDR_MR.dbo.MR_MedicalRecord definition

-- Drop table

-- DROP TABLE CDR_MR.dbo.MR_MedicalRecord;

CREATE TABLE CDR_MR.dbo.MR_MedicalRecord (
	MRN nvarchar(20) COLLATE Chinese_PRC_CI_AS NOT NULL,
	HospitalID nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	HospitalNO nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	HospitalDescription nvarchar(80) COLLATE Chinese_PRC_CI_AS NULL,
	HealthCardCode nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	PaymentCategory nvarchar(2) COLLATE Chinese_PRC_CI_AS NULL,
	Status nvarchar(5) COLLATE Chinese_PRC_CI_AS NULL,
	StatusDescription nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	PatientID nvarchar(20) COLLATE Chinese_PRC_CI_AS NOT NULL,
	PatientCode nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	VisitNumber nvarchar(20) COLLATE Chinese_PRC_CI_AS NOT NULL,
	PatientName nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	PatienSex nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	MedicareCategory nvarchar(4) COLLATE Chinese_PRC_CI_AS NULL,
	MedicareCategoryDescription nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	PatientSource nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	PatientDOB date NULL,
	PatientAge real NULL,
	BabyAge nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	AgeUnit nvarchar(4) COLLATE Chinese_PRC_CI_AS NULL,
	IsMarriage nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	OccupationCode nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	OccupationDescription nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	BirthProvince nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	BirthCity nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	BirthCounty nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	Nation nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	Nationality nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	IdentificationClass nvarchar(5) COLLATE Chinese_PRC_CI_AS NULL,
	SSN nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	HomeAddress nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	HomePhone nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	HomeZipCode nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	WorkUnit nvarchar(40) COLLATE Chinese_PRC_CI_AS NULL,
	WorkPhone nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	WorkZipcode nvarchar(6) COLLATE Chinese_PRC_CI_AS NULL,
	AccountAddress nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	AccountPhone nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	AccountZipcode nvarchar(6) COLLATE Chinese_PRC_CI_AS NULL,
	ContactPersonName nvarchar(14) COLLATE Chinese_PRC_CI_AS NULL,
	ContactRelationship nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	ContactAddress nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	ContactPhone nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	ReAdmission int NULL,
	ReAdmissionNew int NULL,
	AdmissionCondition nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	AdmissionEpisode nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	IsFirstTherapy nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	IsDischarge nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	AdmissionSource nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	AdmissionSourceDescription nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	IsFurtherDxNeeded nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	AssignedLocationUnit nvarchar(8) COLLATE Chinese_PRC_CI_AS NULL,
	AssignedLocationUnitDescription nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	AdmissionDeptClass nvarchar(8) COLLATE Chinese_PRC_CI_AS NULL,
	AdmissionHospitalService nvarchar(8) COLLATE Chinese_PRC_CI_AS NULL,
	AdmissionHospitalServiceDescription nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	AdmissionLocationUnit nvarchar(8) COLLATE Chinese_PRC_CI_AS NULL,
	AdmissionLocationUnitDescription nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	AdmissionWorkGroupCode nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	AdmissionWorkGroupName nvarchar(40) COLLATE Chinese_PRC_CI_AS NULL,
	AdmissionBedNo nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	DischargeDeptClass nvarchar(8) COLLATE Chinese_PRC_CI_AS NULL,
	DischargeHospitalService nvarchar(8) COLLATE Chinese_PRC_CI_AS NULL,
	DischargeHospitalServiceDescription nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	DischargeLocationUnit nvarchar(8) COLLATE Chinese_PRC_CI_AS NULL,
	DischargeLocationUnitDescription nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	DischargeWorkGroupCode nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	DischargeWorkGroupName nvarchar(40) COLLATE Chinese_PRC_CI_AS NULL,
	HospitalServiceTransfer nvarchar(140) COLLATE Chinese_PRC_CI_AS NULL,
	DischargeBedNo nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	HeadOfDeptNo nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	HeadOfDeptName nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	PrincipleMDNo nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	PrincipleMDName nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	AttendingMDNo nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	AttendingMDName nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	AssistantMDNo nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	AssistantMDName nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	AdmissionStaffNo nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	AdmissionStaffName nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	DischargeStaffNo nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	DischargeStaffName nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	CoderStaffNo nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	CoderStaffName nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	PrincipleNurseNo nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	PrincipleNurseName nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	FurtherEducationNo nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	FurtherEducationName nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	InternshipDoctorNo nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	InternshipDoctorName nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	QualityDoctorNo nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	QualityDoctorName nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	QualityNurseNo nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	QualityNurseName nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	QualityDate nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	PostOperationLOS numeric(6,2) NULL,
	LOS numeric(18,2) NULL,
	AdmissionDate datetime NULL,
	DxConfirmDate datetime NULL,
	DischargeDate datetime NULL,
	DeathDate datetime NULL,
	ConsultingDx nvarchar(40) COLLATE Chinese_PRC_CI_AS NULL,
	AdmissionDxICDCode nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	AdmissionDxCode nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	AdmissionDxDescription nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	ConsultingDxICDCode nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	ConsultingDxCode nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	ConsultingDxDescription nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	PathologyDx nvarchar(40) COLLATE Chinese_PRC_CI_AS NULL,
	PrimaryDxCode nvarchar(15) COLLATE Chinese_PRC_CI_AS NULL,
	PathologyNo nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	PathologyICDNo nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	PrimaryDxDescription nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	PrimaryDxStatisICDCode nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	PrimaryDxStatisCode nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	PrimaryDxStatisName nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	DistroyResonICDCode nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	DistroyResonCode nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	DistoryResonDescription nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	ComaTimeBefore nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	ComaTimeAfter nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	ConsultDischargeConcur nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	AdmissionDischargeConcur nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	PrePostOperationConcur nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	CPConcur nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	RPConcur nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	HBsAG nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	HCVAb nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	HIVAb nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	IsIatrogenicOperation nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	IsIatrogenic nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	IsInfectiousCase nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	IsCancerCase nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	CancerCaseDxICDCode nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	CancerCaseDxCode nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	CancerCaseDxName nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	IsNewbornDeath nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	IsMaternalDeath nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	AboBlood nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	Rh nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	RhDescription nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	TransfusionBloodAmount nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	RBC nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	BloodPlatelet nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	BloodPlasma nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	Blood nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	OtherBlood nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	TransfusionReaction nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	IsAllergy nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	AllergicDrugs nvarchar(200) COLLATE Chinese_PRC_CI_AS NULL,
	AllergyReason nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	IsAutospy nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	IsFollowupNeeded nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	IsFollowupNeededDescription nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	FollowupCycle nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	FollowupInsitution nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	MRQualityGrade nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	IsTeachCase nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	Ishemorrhage nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	NewBornSex nvarchar(2) COLLATE Chinese_PRC_CI_AS NULL,
	NewBornWeight nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	PWEIGHTinhospital nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	PregnantSyphilis nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	Hypothyroidism nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	PKU nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	Hearing nvarchar(1) COLLATE Chinese_PRC_CI_AS NULL,
	IsInternalInfected nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	RescueCount int NULL,
	RescueSuccessCount int NULL,
	OutHospitalMode nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	TherapyResult nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	PlanInhospital nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	PlanInhospitalFor nvarchar(30) COLLATE Chinese_PRC_CI_AS NULL,
	ReceiveHospitalName nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	ReceiveHospitalCommunityName nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	ArchiveStaffNo nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	ArchiveStaffName nvarchar(10) COLLATE Chinese_PRC_CI_AS NULL,
	ArchiveDate datetime NULL,
	CureType nvarchar(20) COLLATE Chinese_PRC_CI_AS NULL,
	IsVIP int NULL,
	IsComplication int NULL,
	IsCP int NULL,
	IsCadre int NULL,
	Feed nvarchar(50) COLLATE Chinese_PRC_CI_AS NULL,
	FeedKey nvarchar(200) COLLATE Chinese_PRC_CI_AS NULL,
	FeedValue nvarchar(200) COLLATE Chinese_PRC_CI_AS NULL,
	IsDeleted smallint NOT NULL,
	LastUpdateDtTm datetime NOT NULL,
	LastImportDtTm datetime NOT NULL,
	[TimeStamp] timestamp NOT NULL,
	CONSTRAINT PK_MR_MedicalRecord PRIMARY KEY (MRN)
);
 CREATE NONCLUSTERED INDEX DischargeDate ON CDR_MR.dbo.MR_MedicalRecord (  DischargeDate ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ] ;
 CREATE NONCLUSTERED INDEX IDX_MR_MedicalRecord_LastUpdateDtTm ON CDR_MR.dbo.MR_MedicalRecord (  LastUpdateDtTm ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ] ;
 CREATE NONCLUSTERED INDEX IX_MR_MedicalRecord_IX1 ON CDR_MR.dbo.MR_MedicalRecord (  IsDeleted ASC  )  
	 INCLUDE ( ContactPersonName , ContactPhone , ContactRelationship , HospitalDescription , HospitalID , IsMarriage , Nation , OccupationDescription , PrimaryDxStatisName , VisitNumber ) 
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ] ;
 CREATE NONCLUSTERED INDEX IX_VisitNumber_MR_MedicalRecord ON CDR_MR.dbo.MR_MedicalRecord (  VisitNumber ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ] ;
 CREATE NONCLUSTERED INDEX MR_MedicalRecord_admissiondate_isdel ON CDR_MR.dbo.MR_MedicalRecord (  IsDeleted ASC  , AdmissionDate ASC  )  
	 INCLUDE ( AdmissionLocationUnit , AssignedLocationUnit , DischargeHospitalService , HospitalID , PrimaryDxStatisICDCode , VisitNumber ) 
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ] ;
 CREATE NONCLUSTERED INDEX [NonClusteredIndex-VisitNumber] ON CDR_MR.dbo.MR_MedicalRecord (  VisitNumber ASC  )  
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ] ;
 CREATE NONCLUSTERED INDEX mr_mdrc_isdel_admdate ON CDR_MR.dbo.MR_MedicalRecord (  IsDeleted ASC  , AdmissionDate ASC  )  
	 INCLUDE ( DischargeHospitalService , DischargeLocationUnit ) 
	 WITH (  PAD_INDEX = OFF ,FILLFACTOR = 100  ,SORT_IN_TEMPDB = OFF , IGNORE_DUP_KEY = OFF , STATISTICS_NORECOMPUTE = OFF , ONLINE = OFF , ALLOW_ROW_LOCKS = ON , ALLOW_PAGE_LOCKS = ON  )
	 ON [PRIMARY ] ;