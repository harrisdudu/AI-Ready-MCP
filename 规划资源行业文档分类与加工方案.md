# 规划资源行业文档分类与加工方案

## 1. 概述

本文档基于规划资源行业特点，建立了详细的文证图表业务分类体系，整合了行业主要业务场景和数据类型，并针对每类数据提供了具体的加工方法和处理要点。本方案旨在为语料加工智能体提供清晰的分类指导，确保不同类型文档能够得到最适合的处理方式。

## 2. 文档分类体系架构

规划资源行业的文档分类体系采用层次结构，主要分为一级分类和二级分类。一级分类基于文档的主要形式和内容特点，二级分类则根据具体的业务场景和文档类型进行细分。

```
├── 文本类
│   ├── 法律法规、政府公文
│   ├── 技术手册
│   ├── 规划文件
│   ├── 档案数据
│   ├── 书籍、报刊、新闻稿
│   ├── 期刊、论文
│   └── 人工编写思维链
├── 图文类
│   ├── 典型案例--图文并茂--PDF文件
│   ├── 典型案例--图文并茂--扫描文件
│   ├── 汇报稿--图文并茂--由PPT转化而来
│   └── 彩页
├── 证件类
│   ├── 权属证明类
│   ├── 审批证件类
│   ├── 资质证书类
│   └── 登记证明类
├── 图像类
│   ├── 规划成果类
│   ├── 现状影像类
│   ├── 地籍测绘类
│   └── 工程建设类
└── 表格类
    ├── 统计报表类
    └── 审批表单类
```

## 3. 详细分类描述与加工要点

### 3.1 文本类

文本类文档以文字内容为主，是规划资源行业中最常见的文档类型。

#### 3.1.1 法律法规、政府公文（严格加工）
- **特点**：具有高度权威性、规范性和严谨性，内容结构清晰，术语规范。
- **示例**：法律条文、行政法规、部门规章、地方性法规、政府公告、通知等。
- **加工要点**：
  - 答案引用原文，确保内容准确性
  - 保留原文结构和格式，特别是章节条款编号
  - 建立严格的引用机制，确保溯源性
  - 可参照政策问询库的思路，构建问答对和知识图谱
  - 重点提取关键词、关键句和核心概念

#### 3.1.2 技术手册（长表格）
- **特点**：包含大量文字说明，同时文档中包含比较规范的大长表格，技术性强。
- **示例**：各类技术规范、操作手册、设备说明、标准规范等。
- **加工要点**：
  - 分离文本和表格内容，分别进行结构化处理
  - 表格内容提取时保持行列关系和数据完整性
  - 建立文本与表格之间的关联关系
  - 提取技术参数、指标、计算公式等关键信息

#### 3.1.3 规划文件（图文并茂）
- **特点**：包含大量文字，同时文档中配有比较规范的配图，图文结合紧密。
- **示例**：城市总体规划、详细规划、专项规划、区域规划等。
- **加工要点**：
  - 分离文本和图像内容，分别进行处理
  - 提取规划目标、指标、空间布局、发展策略等核心内容
  - 建立图文关联，确保内容一致性
  - 重点识别并结构化规划图表、数据和空间信息

#### 3.1.4 档案数据（规划文件）
- **特点**：包含大量文字，配有规范配图，还包含部分工作审批文件。相当一部分文件是扫描件。
- **示例**：项目审批档案、历史规划档案、土地登记档案等。
- **加工要点**：
  - 对扫描件进行高质量OCR识别
  - 建立档案间的关联关系和时间线
  - 提取审批信息、责任人、时间节点等关键元数据
  - 区分不同类型档案，采用针对性的处理策略

#### 3.1.5 书籍、报刊、新闻稿
- **特点**：书籍包含大量概念性科普内容，有规范的文档结构和文字描述方式。
- **示例**：专业书籍、行业报刊、新闻报道、政策解读等。
- **加工要点**：
  - 提取核心概念、定义、原理和案例
  - 保留书籍的章节结构和引用关系
  - 对科普内容进行通俗化处理，便于理解
  - 建立知识体系和概念间的关联

#### 3.1.6 期刊、论文
- **特点**：典型的论文体，包含标题、作者、摘要、关键词，结构规范，图文比较规范，可能存在数学公式、建筑设计图等。
- **示例**：学术期刊论文、研究报告、学位论文等。
- **加工要点**：
  - 提取论文元数据（标题、作者、摘要、关键词、发表信息等）
  - 解析论文结构（引言、方法、结果、讨论、结论等）
  - 处理数学公式、图表、参考文献等特殊内容
  - 提取研究结论、创新点和关键发现

#### 3.1.7 人工编写思维链
- **特点**：由规资局各业务处室手工编写的问题和答案，质量较高，但思维链可能不规范或不完整。
- **示例**：业务问答、决策支持文档、问题分析报告等。
- **加工要点**：
  - 规范化思维链结构，补充缺失环节
  - 优化语言表达，提高可读性
  - 建立问题与答案之间的逻辑关联
  - 提取业务规则、决策依据和最佳实践

### 3.2 图文类

图文类文档以图像内容为主，文字量相对较少，图文结合紧密。

#### 3.2.1 典型案例--图文并茂--PDF文件
- **特点**：有大量的图，文字量相对少，整体以图本、画册形式，内容设计感比较强，彩页形式。
- **示例**：优秀规划案例集、设计作品集、城市建设成果展示等。
- **加工要点**：
  - 高质量提取图像内容
  - 提取并结构化图像说明文字
  - 建立图像与文字说明的对应关系
  - 对图像内容进行分类和标注

#### 3.2.2 典型案例--图文并茂--扫描文件
- **特点**：与3.2.1形式相同，但文件采用书籍扫描形式，可能需要OCR识别。
- **示例**：扫描版案例集、历史规划图册、旧版设计资料等。
- **加工要点**：
  - 预处理图像，提高扫描质量
  - 进行精确的OCR文字识别
  - 图像内容识别和分类
  - 建立图文对应关系

#### 3.2.3 汇报稿--图文并茂--由PPT转化而来
- **特点**：PPT的特点在于本页的内容和文字是一致的，但因排版形式问题，可能会有信息比较离散的情况，图文对照情况不完全规范。
- **示例**：项目汇报PPT、工作汇报演示文稿等。
- **加工要点**：
  - 提取每页的标题、文字内容和图像
  - 重建内容逻辑结构，整合离散信息
  - 建立页面间的逻辑关系
  - 提取核心观点、数据和结论

#### 3.2.4 彩页
- **特点**：短篇幅的宣传性材料，包含案例图、实景图等，图文对照情况不完全规范。
- **示例**：项目宣传彩页、活动海报、政策宣传材料等。
- **加工要点**：
  - 提取关键信息和核心宣传点
  - 识别图像内容和类型
  - 处理特殊排版和设计元素
  - 提取联系方式、网址等实用信息

### 3.3 证件类

证件类文档是规划资源行业中具有法律效力的证明文件。

#### 3.3.1 权属证明类
- **特点**：证明土地、房屋等不动产权利归属的法律凭证，格式相对固定，信息规范。
- **示例**：不动产权证、土地使用权证、房屋所有权证等。
- **加工要点**：
  - 识别证件类型和真伪
  - 提取权利人、权利类型、权利性质、用途、面积、使用期限等关键信息
  - 结构化证件信息，建立数据关联
  - 验证信息一致性和合法性

#### 3.3.2 审批证件类
- **特点**：规划、建设等行政许可的法律凭证，包含审批机关、审批内容、有效期等信息。
- **示例**：建设用地规划许可证、建设工程规划许可证、乡村建设规划许可证等。
- **加工要点**：
  - 识别证件类型和审批机关
  - 提取项目名称、建设单位、建设位置、建设规模、发证日期等关键信息
  - 建立审批证件与项目的关联关系
  - 验证审批信息的完整性和合规性

#### 3.3.3 资质证书类
- **特点**：证明机构或个人具备特定专业能力的凭证，包含资质等级、范围、有效期等信息。
- **示例**：规划设计资质、测绘资质、房地产开发资质等。
- **加工要点**：
  - 识别资质类型和等级
  - 提取证书编号、单位名称、资质范围、有效期、发证机关等关键信息
  - 建立资质与机构的关联关系
  - 验证资质的有效性和合法性

#### 3.3.4 登记证明类
- **特点**：证明特定事项已登记的法律凭证，格式相对固定，信息规范。
- **示例**：不动产登记证明、抵押登记证明、预告登记证明等。
- **加工要点**：
  - 识别登记类型和证明用途
  - 提取权利人、义务人、登记事项、登记日期等关键信息
  - 建立登记证明与相关不动产的关联关系
  - 验证登记信息的真实性和完整性

### 3.4 图像类

图像类文档以图形、图像内容为主，是规划资源行业中的重要数据类型。

#### 3.4.1 规划成果类
- **特点**：规划设计的最终或中间成果，包含各类规划图纸、设计方案图、效果图等。
- **示例**：总体规划图、详细规划图、专项规划图、城市设计图、效果图等。
- **加工要点**：
  - 识别图像类型和比例尺
  - 提取图中要素、图例、坐标等信息
  - 进行坐标转换和空间分析
  - 建立不同规划图之间的关联关系

#### 3.4.2 现状影像类
- **特点**：反映土地、城市等现状情况的影像数据，包含航空影像、卫星影像、无人机航拍等。
- **示例**：高分辨率卫星影像、航空摄影测量影像、无人机航拍影像等。
- **加工要点**：
  - 影像预处理（辐射校正、几何校正等）
  - 地物识别和分类
  - 变化检测和分析
  - 提取地形、地貌、地物等信息

#### 3.4.3 地籍测绘类
- **特点**：反映土地权属、界址、面积等信息的专业测绘成果。
- **示例**：地籍图、宗地图、地形图、勘测定界图等。
- **加工要点**：
  - 识别图幅信息、坐标系统、比例尺等元数据
  - 提取界址点、界址线、宗地号、面积等信息
  - 进行坐标转换和精度评估
  - 建立地籍数据与权属信息的关联关系

#### 3.4.4 工程建设类
- **特点**：反映工程建设设计和实施情况的图纸和影像。
- **示例**：施工图、竣工图、管线图、工程影像等。
- **加工要点**：
  - 识别工程类型和图纸类型
  - 提取工程设计参数、技术指标、材料信息等
  - 建立工程图纸与实际建设情况的关联
  - 进行工程进度和质量分析

### 3.5 表格类

表格类文档以结构化数据为主，是规划资源行业中数据统计和管理的重要形式。

#### 3.5.1 统计报表类
- **特点**：反映各类资源、市场、人口等统计数据的表格，结构规范，数据量大。
- **示例**：土地利用现状统计、房地产市场统计、人口资源统计等。
- **加工要点**：
  - 识别表格结构和数据类型
  - 提取表头、行列数据和统计指标
  - 进行数据清洗和标准化处理
  - 建立统计数据的时间序列和空间关联

#### 3.5.2 审批表单类
- **特点**：各类行政许可和审批的申请表单，包含申请人、申请事项、申请时间等信息。
- **示例**：各类行政许可申请表、审批表、备案表等。
- **加工要点**：
  - 识别表单类型和用途
  - 提取申请人信息、申请事项、申请时间、审批结果等关键信息
  - 建立表单与相关证件、项目的关联关系
  - 验证表单信息的完整性和合规性

## 4. 处理智能体与流程

### 4.1 文档处理子智能体

```python
class DocumentProcessingAgent:
    """文档处理子智能体
    
    处理规划文本、报告、法规等文档类语料，提取结构化信息
    """
    def __init__(self):
        # 初始化文档处理相关组件
        self.document_parser = DocumentParser()
        self.content_extractor = ContentExtractor()
        self.structure_analyzer = DocumentStructureAnalyzer()
        self.keyword_extractor = KeywordExtractor()
        self.metadata_extractor = MetadataExtractor()
        self.table_processor = TableProcessor()  # 新增表格处理组件
        self.ocr_engine = OCREngine()  # 新增OCR引擎，用于处理扫描件
        self.thought_chain_processor = ThoughtChainProcessor()  # 新增思维链处理组件
        
    def process(self, document_path):
        """处理文档类语料
        
        参数:
            document_path: 文档文件路径
        
        返回:
            structured_data: 结构化后的文档信息
        """
        # 1. 文档类型识别
        doc_type = self._identify_document_type(document_path)
        
        # 2. 根据文档类型选择处理策略
        if doc_type in ['法律法规', '政府公文']:
            return self._process_legal_document(document_path)
        elif doc_type == '技术手册':
            return self._process_technical_manual(document_path)
        elif doc_type == '规划文件':
            return self._process_planning_document(document_path)
        elif doc_type == '档案数据':
            return self._process_archive_data(document_path)
        elif doc_type in ['书籍', '报刊', '新闻稿']:
            return self._process_publication(document_path)
        elif doc_type in ['期刊', '论文']:
            return self._process_academic_paper(document_path)
        elif doc_type == '思维链':
            return self._process_thought_chain(document_path)
        else:
            # 默认处理流程
            return self._process_default(document_path)
    
    # 各类文档的具体处理方法...
    
    def _identify_document_type(self, document_path):
        """识别文档类型
        
        根据文件扩展名、内容特征等识别文档类型
        """
        # 实现文档类型识别逻辑
        # ...
        return "未知类型"
    
    def _process_legal_document(self, document_path):
        """处理法律法规、政府公文类型文档
        
        严格按照原文引用，确保内容准确性和溯源性
        """
        # 实现法律法规文档处理逻辑
        # ...
        return structured_data
    
    # 其他类型文档的处理方法...
```

### 4.2 图文处理子智能体

```python
class ImageTextProcessingAgent:
    """图文处理子智能体
    
    处理典型案例、汇报稿、彩页等图文类语料，提取结构化信息
    """
    def __init__(self):
        # 初始化图文处理相关组件
        self.image_analyzer = ImageAnalyzer()
        self.text_extractor = TextExtractor()
        self.layout_analyzer = LayoutAnalyzer()
        self.ocr_engine = OCREngine()
        self.content_associator = ContentAssociator()
        
    def process(self, document_path):
        """处理图文类语料
        
        参数:
            document_path: 文档文件路径
        
        返回:
            structured_data: 结构化后的图文信息
        """
        # 1. 图文类型识别
        doc_type = self._identify_document_type(document_path)
        
        # 2. 根据文档类型选择处理策略
        if doc_type == '典型案例PDF':
            return self._process_case_study_pdf(document_path)
        elif doc_type == '典型案例扫描件':
            return self._process_case_study_scan(document_path)
        elif doc_type == 'PPT汇报稿':
            return self._process_ppt_report(document_path)
        elif doc_type == '彩页':
            return self._process_color_page(document_path)
        else:
            # 默认处理流程
            return self._process_default(document_path)
    
    # 各类图文文档的具体处理方法...
```

### 4.3 证件处理子智能体

```python
class CertificateProcessingAgent:
    """证件处理子智能体
    
    处理各类规划许可证、不动产权证等证件类语料，提取结构化信息
    """
    def __init__(self):
        # 初始化证件处理相关组件
        self.certificate_detector = CertificateDetector()
        self.info_extractor = CertificateInfoExtractor()
        self.authenticator = CertificateAuthenticator()
        
    def process(self, certificate_path):
        """处理证件类语料
        
        参数:
            certificate_path: 证件图片或PDF文件路径
        
        返回:
            structured_data: 结构化后的证件信息
        """
        # 1. 证件类型识别
        cert_type = self.certificate_detector.detect(certificate_path)
        
        # 2. 证件信息提取
        extracted_info = self.info_extractor.extract(certificate_path, cert_type)
        
        # 3. 证件真伪鉴别
        authenticity = self.authenticator.authenticate(certificate_path, extracted_info)
        
        # 4. 整合结果
        structured_data = {
            'certificate_type': cert_type,
            'extracted_info': extracted_info,
            'authenticity': authenticity,
            'confidence': self._calculate_confidence(extracted_info, authenticity)
        }
        
        return structured_data
```

### 4.4 图像处理子智能体

```python
class ImageProcessingAgent:
    """图形图像处理子智能体
    
    处理规划图件、遥感影像等图形图像类语料，实现图像内容解析和结构化
    """
    def __init__(self):
        # 初始化图像处理相关组件
        self.image_analyzer = ImageAnalyzer()
        self.feature_extractor = ImageFeatureExtractor()
        self.coordinate_converter = CoordinateConverter()
        self.map_interpreter = MapInterpreter()
        
    def process(self, image_path):
        """处理图形图像类语料
        
        参数:
            image_path: 图像文件路径
        
        返回:
            structured_data: 结构化后的图像信息
        """
        # 实现图像处理逻辑
        # ...
        return structured_data
```

### 4.5 表格处理子智能体

```python
class TableProcessingAgent:
    """表格处理子智能体
    
    处理各类统计表格、表单数据等表格类语料，实现表格识别、内容提取和结构分析
    """
    def __init__(self):
        # 初始化表格处理相关组件
        self.table_detector = TableDetector()
        self.table_structure_analyzer = TableStructureAnalyzer()
        self.cell_content_extractor = CellContentExtractor()
        self.data_validator = DataValidator()
        
    def process(self, table_path):
        """处理表格类语料
        
        参数:
            table_path: 表格文件路径或包含表格的文档路径
        
        返回:
            structured_data: 结构化后的表格信息
        """
        # 实现表格处理逻辑
        # ...
        return structured_data
```

## 5. 公共服务层

```python
class CommonServices:
    """公共服务层
    
    提供数据存储、OCR、智能分类标注、质量评估等基础服务，供各子智能体调用
    """
    def __init__(self):
        # 初始化公共服务相关组件
        self.ocr_service = OCRService()
        self.classification_service = SmartClassificationService()
        self.quality_service = QualityEvaluationService()
        self.storage_service = DataStorageService()
        self.industry_knowledge = IndustryKnowledgeBase()
        
    def smart_classify(self, content, data_type):
        """智能分类服务
        
        参数:
            content: 需要分类的内容
            data_type: 数据类型（文本、图像、表格等）
        
        返回:
            classification_result: 分类结果
        """
        # 基于用户提供的分类体系，实现智能分类
        # 可以利用机器学习模型进行自动分类
        
        # 分类结果示例
        return {
            'primary_type': '规划文档',  # 一级分类
            'secondary_type': '城市总体规划',  # 二级分类
            'keywords': ['城市总体规划', '发展目标', '空间布局'],  # 关键词
            'confidence': 0.95,  # 分类置信度
            'suggestions': ['可考虑关联相关专项规划']  # 处理建议
        }
        
    # 其他公共服务方法...
```

## 6. 输入输出示例

### 6.1 文本类文档处理示例（法律法规）

**输入：**
```python
# 输入示例 - 法律法规文件路径
document_path = "D:/data/法律法规/中华人民共和国城乡规划法.pdf"

# 创建文档处理子智能体实例
doc_agent = DocumentProcessingAgent()

# 调用处理方法
result = doc_agent.process(document_path)
```

**输出：**
```python
# 输出示例 - 结构化后的法律法规数据
{
    'document_type': '法律法规',
    'secondary_type': '法律',
    'title': '中华人民共和国城乡规划法',
    'content': '第一章 总则...第二章 城乡规划的制定...',  # 完整文档文本内容
    'structure': {
        'chapters': [
            {'title': '第一章 总则', 'start_pos': 0, 'end_pos': 1500, 'articles': [
                {'article_num': '第一条', 'content': '为了加强城乡规划管理...'},
                {'article_num': '第二条', 'content': '制定和实施城乡规划...'},
                # 更多条款...
            ]},
            # 更多章节...
        ]
    },
    'keywords': ['城乡规划', '规划管理', '建设用地', '法律责任'],
    'metadata': {
        'title': '中华人民共和国城乡规划法',
        'issuing_authority': '全国人民代表大会常务委员会',
        'issue_date': '2007-10-28',
        'effective_date': '2008-01-01',
        'revision_history': [
            {'revision_date': '2015-04-24', 'description': '第一次修正'},
            {'revision_date': '2019-04-23', 'description': '第二次修正'}
        ],
        'page_count': 36
    },
    'quality_score': 0.98,
    'citations': [  # 引用信息，便于溯源
        {'type': 'article', 'number': '第一条', 'content': '为了加强城乡规划管理...'},
        # 更多引用...
    ]
}
```

### 6.2 图文类文档处理示例（典型案例）

**输入：**
```python
# 输入示例 - 典型案例PDF文件路径
case_path = "D:/data/典型案例/XX市城市更新优秀案例集.pdf"

# 创建图文处理子智能体实例
image_text_agent = ImageTextProcessingAgent()

# 调用处理方法
result = image_text_agent.process(case_path)
```

**输出：**
```python
# 输出示例 - 结构化后的典型案例数据
{
    'document_type': '图文类',
    'secondary_type': '典型案例PDF',
    'title': 'XX市城市更新优秀案例集',
    'cases': [
        {
            'case_id': 'CASE001',
            'case_title': 'XX旧工业区改造项目',
            'description': '本项目位于XX市XX区，总占地面积XX公顷...',
            'images': [
                {
                    'image_id': 'IMG001',
                    'image_path': 'D:/temp/extracted/IMG001.jpg',
                    'description': '项目改造前全景图',
                    'content_tags': ['工业区', '旧厂房', '改造前']
                },
                {
                    'image_id': 'IMG002',
                    'image_path': 'D:/temp/extracted/IMG002.jpg',
                    'description': '项目改造后效果图',
                    'content_tags': ['创意产业园', '改造后', '效果图']
                }
            ],
            'key_points': ['产业升级', '文化保留', '生态修复', '社区参与'],
            'results': '改造后吸引了XX家企业入驻，创造就业岗位XX个...'
        },
        # 更多案例...
    ],
    'metadata': {
        'publisher': 'XX市城市更新局',
        'publish_date': '2022-06-15',
        'page_count': 120
    },
    'quality_score': 0.95
}
```

## 7. 总结

本方案建立了一套完整的规划资源行业文档分类体系，详细描述了各类文档的特点和加工要点，并提供了相应的处理智能体设计和输入输出示例。通过实施本方案，可以实现对规划资源行业各类文档的高效、精准处理，为后续的AI模型训练、知识图谱构建和业务应用提供高质量的结构化数据支持。

随着行业发展和技术进步，本分类体系将持续优化和完善，以适应不断变化的业务需求和数据类型。建议定期评估分类体系的有效性，并根据实际应用情况进行调整和更新。

---

**版本信息**：
- 版本号：V1.0
- 发布日期：2023-XX-XX
- 编制部门：规划资源行业语料加工智能体项目组
- 修订记录：初始版本，整合现有分类体系和用户提供的详细分类信息